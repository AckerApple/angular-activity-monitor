(function(){function e(e){var h,k;function u(){e.on(n,l);a.options.enabled=!0;a.user.warning=!1;h=setInterval(function(){f(m)},a.options.keepAlive*g);k=setInterval(function(){var b=Date.now(),c=b-(a.options.inactive-a.options.warning)*g,b=b-a.options.inactive*g;!a.user.warning&&a.user.action<=c&&(a.user.warning=!0,f(p));a.user.active&&a.user.action<=b&&(a.user.active=!1,f(q),a.options.enabled=!1,clearInterval(k),clearInterval(h),e.off(n,l))},a.options.monitor*g)}function l(){a.user.active=!0;a.user.action=
Date.now();f(r);a.user.warning&&(a.user.warning=!1,f(m))}function f(b){if(a.options.enabled){var c=Object.keys(d[b]);b&&c.length&&c.forEach(function(a){d[b][a]&&d[b][a]()})}}function t(a,c){a=a.split(".");a[1]||"function"!==typeof c||(a[1]=c.toString().substr(0,150).replace(/\r?\n|\r|\s+/gm,""));return{name:a[0],space:a[1]}}var a=this;a.options={enabled:!1,keepAlive:800,inactive:900,warning:60,monitor:3};a.user={action:Date.now(),active:!0,warning:!1};a.activity=l;a.on=a.bind=function(b,c){b&&"function"===
typeof c&&(b=t(b,c),d[b.name][b.space]=c,!a.options.enabled&&u())};a.off=a.unbind=function(a,c){a=t(a,c);a.space?d[a.name][a.space]=null:d[a.name]={}};var d={};d[m]={};d[q]={};d[p]={};d[r]={};h=k=null;var n="mousemove mousedown keypress wheel touchstart scroll";return a}angular.module("ActivityMonitor",[]).service("ActivityMonitor",e);var g=1E3,m="keepAlive",q="inactive",p="warning",r="activity";e.$inject=["$document"]})();
